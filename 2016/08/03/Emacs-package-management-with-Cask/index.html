<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="/atom.xml" title="Dan" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>Emacs package management with Cask - Dan</title><link rel="stylesheet" href="/css/main.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--></head><body><header class="head"><h1 class="head-title u-fl"><a href="/">Dan</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/" class="head-nav__link">Home</a></li><li class="head-nav__item"><a href="/archives" class="head-nav__link">Archives</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time datetime="2016-08-03T18:17:20.000Z" class="post__time">August 3, 2016</time><h1 class="post__title"><a href="/2016/08/03/Emacs-package-management-with-Cask/">Emacs package management with Cask</a></h1></header><div class="post__main echo"><p>In this article, I will show how to manage Emacs packages with Cask.</p>
<p>Environment:</p>
<ul>
<li>OSX El Capitan Version 10.11.6</li>
<li>Homebrew 0.9.9</li>
<li>Cask version 0.7.2</li>
</ul>
<p>Install Cask using Homebrew.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install cask</div></pre></td></tr></table></figure>
<p>In your .emacs.d/ folder, create a Cask file with the following contents.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">(source &quot;elpa&quot; &quot;http://elpa.gnu.org/packages/&quot;)</div><div class="line"></div><div class="line">(depends-on &quot;xkcd&quot;)</div></pre></td></tr></table></figure>
<p>Update your emacs init file, e.g. init.el with elisp code that initialises cask.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(require &apos;cask &quot;~/.cask/cask.el&quot;)</div><div class="line">(cask-initialize)</div></pre></td></tr></table></figure>
<p>In the bash shell, install the newly added package.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cask install</div></pre></td></tr></table></figure>
<p>Load a fresh instance of Emacs and you can now use your package.</p>
<p>If you don’t want to have to run package-install from inside Emacs and still update your Cask file, then you can use <a href="https://github.com/rdallasgray/pallet" target="_blank" rel="external">Pallet</a>.</p>
<p>Update your lisp.el file with the following Pallet initialising code. Put this after the Cask initialising code.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">(require &apos;pallet)</div><div class="line">(pallet-mode t)</div></pre></td></tr></table></figure>
<p>Add it to your Cask file.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">echo</span> <span class="string">'(depends-on "pallet")'</span> &gt;&gt; Cask</div></pre></td></tr></table></figure>
<p>Install it with Cask.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cask install</div></pre></td></tr></table></figure>
<p>Now, install a package from inside Emacs, as you might normally do.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">package-install magit</div></pre></td></tr></table></figure>
<p>Have a look at your Cask file and it should look like this.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(source &quot;elpa&quot; &quot;http://elpa.gnu.org/packages/&quot;)</div><div class="line"></div><div class="line">(depends-on &quot;xkcd&quot;)</div><div class="line">(depends-on &quot;pallet&quot;)</div><div class="line">(depends-on &quot;magit&quot;)</div></pre></td></tr></table></figure>
<p>Fire up a new instance of Emacs and you should be able to use your new package.</p>
<p>If you ever want to update your installed packages, use can now use Cask to update them.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cask update</div></pre></td></tr></table></figure>
<p>If you are like me, and you store your emacs.d/ config in source control, you can checkout a fresh copy, install Emacs and run <code>cask install</code>, and you’ll have Emacs with all your favourite packages ready to use.</p>
</div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/tags/Emacs-Cask/" class="post__tag__link">Emacs Cask</a></li></ul><a href="/2016/08/03/Emacs-package-management-with-Cask/#disqus_thread" class="post__foot-link u-fr">0 COMMENTS</a></footer></article></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2016 Daniel Boroujerdi</div><menu class="page-menu u-fr"><li class="page-menu__item"><span title="Previous" class="page-menu__link icon-arrow-left page-menu__link--disabled"></span></li><li class="page-menu__item"><span title="Next" class="page-menu__link icon-arrow-right page-menu__link--disabled"></span></li></menu></footer></body></html>